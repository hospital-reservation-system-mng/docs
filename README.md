# 🏥 병원 예약 & 내부 업무 시스템 (HMS) — 프로젝트 문서

> **프로젝트명:** hospital-reservation  
> **개발 기간:** 4주 (고정)  
> **팀 구성:** 책임개발자 1명 + 개발자 3명 + AI 보조  
> **기술 스택:** Spring Boot + Mustache SSR + Claude LLM API  

---

## 📚 문서 목차

### 1. 프로젝트 계획서

| 문서 | 버전 | 설명 |
|------|------|------|
| [프로젝트 계획서 v1](1_프로젝트_계획서/🏥_병원_예약_%26_내부_업무_시스템_—_프로젝트_계획서_v1.md) | v1.0 | 초기 계획 |
| [프로젝트 계획서 v2](1_프로젝트_계획서/🏥_병원_예약_%26_내부_업무_시스템_—_프로젝트_계획서_v2.md) | v2.0 | 2차 수정 |
| [프로젝트 계획서 v3](1_프로젝트_계획서/🏥_병원_예약_%26_내부_업무_시스템_—_프로젝트_계획서_v3.md) | v3.0 | 3차 수정 |
| [프로젝트 계획서 v4_0](1_프로젝트_계획서/🏥_병원_예약_%26_내부_업무_시스템_—_프로젝트_계획서_v4_0.md) | v4.0 | LLM 기능 통합 (5주) |
| [프로젝트 계획서 v4_1](1_프로젝트_계획서/🏥_병원_예약_%26_내부_업무_시스템_—_프로젝트_계획서_v4_1.md) | **v4.1** | **4주 압축 + 증상 텍스트 전용 (권장)** |
| [프로젝트 계획서 v4_2](1_프로젝트_계획서/🏥_병원_예약_%26_내부_업무_시스템_—_프로젝트_계획서_v4_2.md) | v4.2 | 화면 33개·API 61개 확장 |

**v4.1 핵심 요약:**

- 비회원 증상 텍스트 입력 → Claude API 분석 → 진료과·의사·시간 추천
- 내부 직원: 접수(STAFF), 진료(DOCTOR), 간호(NURSE), 관리(ADMIN)
- 병원 규칙 Q&A 챗봇 (의사·간호사 화면)

---

### 2. ERD 문서

| 문서 | 버전 | 설명 |
|------|------|------|
| [ERD 문서 v1](2_ERD_문서/🏥_병원_예약_%26_내부_업무_시스템_—_ERD_문서_v1.md) | v1.0 | 초기 스키마 |
| [ERD 문서 v2](2_ERD_문서/🏥_병원_예약_%26_내부_업무_시스템_—_ERD_문서_v2.md) | **v2.0** | **HOSPITAL_RULE·LLM_RECOMMENDATION 추가 (권장)** |

**주요 테이블:** PATIENT, DEPARTMENT, STAFF, DOCTOR, RESERVATION, TREATMENT_RECORD, HOSPITAL_RULE, LLM_RECOMMENDATION 등

---

### 3. 프로젝트 아키텍처 정의서

| 문서 | 설명 |
|------|------|
| [프로젝트 아키텍처 정의서](3_프로젝트_아키텍처_정의서/🏥_병원_예약_%26_내부_업무_시스템_—_프로젝트_아키텍처_정의서.md) | Spring Boot 레이어 구조, 패키지·소유자 맵핑, Git 브랜치 전략 |

**핵심 원칙:** 기능 단위 소유권 분리 — Controller·Service·Repository를 동일 담당자가 소유하여 파일 충돌 방지

---

### 4. API 명세서

| 문서 | 버전 | 설명 |
|------|------|------|
| [API 명세서 v1](4_API_명세서/🏥_병원_예약_%26_내부_업무_시스템_—_API_명세서_v1.md) | v1.0 | REST 혼용 구조 |
| [API 명세서 v2](4_API_명세서/🏥_병원_예약_%26_내부_업무_시스템_—_API_명세서_v2.md) | **v2.0** | **RPC 스타일 계층형 URL (권장)** |

**v2.0 URL 구조:** `/{역할}/{자원}/{액션}` (예: `/staff/reception/receive`, `/admin/rule/toggleActive`)

---

### 5. 화면 흐름 시퀀스 다이어그램

| 문서 | 버전 | 설명 |
|------|------|------|
| [화면 흐름 시퀀스 다이어그램 v1](5_화면_흐름_시퀀스_다이어그램/🏥_병원_예약_%26_내부_업무_시스템_—_화면_흐름_시퀀스_다이어그램_v1.md) | v1.0 | 초기 흐름 |
| [화면 흐름 시퀀스 다이어그램 v2](5_화면_흐름_시퀀스_다이어그램/🏥_병원_예약_%26_내부_업무_시스템_—_화면_흐름_시퀀스_다이어그램_v2.md) | **v2.0** | **v4.1 기반 (권장)** |

**포함 흐름:** LLM 증상 추천 예약, 직접 선택 예약, 접수·진료·간호사 업무, 규칙 Q&A 챗봇, 관리자 CRUD

---

### 6. 화면 기능 정의서

| 문서 | 설명 |
|------|------|
| [API 명세서 v1](6_화면_기능_정의서/🏥_병원_예약_%26_내부_업무_시스템_—_API_명세서_v1.md) | API 명세서 v1 (4_API_명세서 폴더와 동일) |
| [API 명세서 v2](6_화면_기능_정의서/🏥_병원_예약_%26_내부_업무_시스템_—_API_명세서_v2.md) | API 명세서 v2 (4_API_명세서 폴더와 동일) |

---

### 7. 코드 리뷰 규칙

| 문서 | 설명 |
|------|------|
| [코드 리뷰 규칙](코드_리뷰_규칙/🏥_병원_예약_%26_내부_업무_시스템_—_코드_리뷰_규칙.md) | PR 작성 규칙, 리뷰 체크리스트, Merge 조건 |

**핵심:** PR 400줄 이하 권장, 보안·상태전이·LLM 관련 엄격 검토, 24시간 내 1차 피드백 목표

---

### 8. Git 규칙 정의서

| 문서 | 설명 |
|------|------|
| [팀 프로젝트 Git & GitHub 사용 규칙](Git_규칙_정의서/팀_프로젝트_Git_%26_GitHub_사용%20규칙.md) | main/dev 브랜치 전략, 워크플로우, Conventional Commits, PR 규칙 |

**핵심:** `dev`가 개발 중심, `main`은 배포 전용. feature/bugfix/hotfix 브랜치 → PR → Squash merge

---

### 9. 요구사항 정의서

| 문서 | 설명 |
|------|------|
| [PBL 프로젝트 최소 요구사항 정의서](요구사항_정의서/PBL_프로젝트_최소_요구사항_정의서.md) | PBL 교육용 최소 필수 요구사항 (REST API, JPA, 인증·인가, Redis 세션, Mustache SSR 등) |

**핵심:** Spring Boot 3.x, JPA 연관관계, Redis 세션, Mustache SSR, 글로벌 예외 핸들러, 페이징 필수

---

## 🔗 문서 연관 관계

```
프로젝트 계획서 v4.1
    ├── ERD v2.0
    ├── API 명세서 v2.0
    ├── 화면 흐름 시퀀스 다이어그램 v2.0
    └── 프로젝트 아키텍처 정의서
```

---

## 📁 폴더 구조

```
hms-doc/
├── 1_프로젝트_계획서/      # v1 ~ v4.2
├── 2_ERD_문서/             # v1, v2
├── 3_프로젝트_아키텍처_정의서/
├── 4_API_명세서/           # v1, v2
├── 5_화면_흐름_시퀀스_다이어그램/  # v1, v2
├── 6_화면_기능_정의서/     # API 명세서 복본
├── 코드_리뷰_규칙/
├── Git_규칙_정의서/        # Git & GitHub 사용 규칙
├── 요구사항_정의서/        # PBL 최소 요구사항
├── .markdownlint.json      # Markdown lint 설정
└── README.md
```

---

## 📋 Markdown Lint

- **도구:** markdownlint-cli
- **실행:** `npx markdownlint-cli "**/*.md"`
- **설정:** `.markdownlint.json` — 문서용 규칙 완화 (MD013 줄 길이, MD025 다중 H1, MD040 코드 블록 언어 등)

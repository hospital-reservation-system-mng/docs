# ğŸ¥ ë³‘ì› ì˜ˆì•½ & ë‚´ë¶€ ì—…ë¬´ ì‹œìŠ¤í…œ â€” í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜ ì •ì˜ì„œ

> **ë¬¸ì„œ ë²„ì „:** v1.0
**ì‘ì„±ì¼:** 2026ë…„
**ì—°ê´€ ë¬¸ì„œ:** í”„ë¡œì íŠ¸ ê³„íšì„œ v4.2 / í™”ë©´ ì •ì˜ì„œ v1.4 / API ëª…ì„¸ì„œ v2.1 / ERD v2.0
**í•µì‹¬ ì›ì¹™:** ê¸°ëŠ¥ ë‹¨ìœ„ ì†Œìœ ê¶Œ ë¶„ë¦¬ â€” í•œ ê¸°ëŠ¥ì˜ ControllerÂ·ServiceÂ·Repositoryë¥¼ ë™ì¼ ë‹´ë‹¹ìê°€ ì†Œìœ í•˜ì—¬ íŒŒì¼ ì¶©ëŒ ì›ì²œ ì°¨ë‹¨
> 

---

## ëª©ì°¨

1. [ì „ì²´ ì‹œìŠ¤í…œ ë ˆì´ì–´ êµ¬ì¡°](#1-ì „ì²´-ì‹œìŠ¤í…œ-ë ˆì´ì–´-êµ¬ì¡°)
2. [Spring Boot íŒ¨í‚¤ì§€ êµ¬ì¡° & ì†Œìœ ì ë§µí•‘](#2-spring-boot-íŒ¨í‚¤ì§€-êµ¬ì¡°--ì†Œìœ ì-ë§µí•‘)
3. [ë‹´ë‹¹ìë³„ ì†Œìœ  ì˜ì—­ ì „ì²´ ì§€ë„](#3-ë‹´ë‹¹ìë³„-ì†Œìœ -ì˜ì—­-ì „ì²´-ì§€ë„)
4. [ê³µìœ  ë ˆì´ì–´ â€” ì±…ì„ê°œë°œì ë‹¨ë… ì†Œìœ ](#4-ê³µìœ -ë ˆì´ì–´--ì±…ì„ê°œë°œì-ë‹¨ë…-ì†Œìœ )
5. [ê¸°ëŠ¥ ëª¨ë“ˆë³„ ê²½ê³„ ì •ì˜](#5-ê¸°ëŠ¥-ëª¨ë“ˆë³„-ê²½ê³„-ì •ì˜)
6. [AI ë³´ì¡° ì—­í•  ë²”ìœ„](#6-ai-ë³´ì¡°-ì—­í• -ë²”ìœ„)
7. [ì¸í„°í˜ì´ìŠ¤ ê³„ì•½ â€” ë‹´ë‹¹ì ê°„ ì—°ê²° ì§€ì ](#7-ì¸í„°í˜ì´ìŠ¤-ê³„ì•½--ë‹´ë‹¹ì-ê°„-ì—°ê²°-ì§€ì )
8. [Git ë¸Œëœì¹˜ ì†Œìœ ì ë§µí•‘](#8-git-ë¸Œëœì¹˜-ì†Œìœ ì-ë§µí•‘)
9. [ì¶©ëŒ ë°©ì§€ ê·œì¹™ (Anti-Collision Rules)](#9-ì¶©ëŒ-ë°©ì§€-ê·œì¹™-anti-collision-rules)
10. [ì£¼ì°¨ë³„ ì†Œìœ ê¶Œ ì´ê´€ ê³„íš](#10-ì£¼ì°¨ë³„-ì†Œìœ ê¶Œ-ì´ê´€-ê³„íš)
11. [ë¶€ë¡. ì†Œìœ ê¶Œ ìš”ì•½ ì²´í¬ì¹´ë“œ](#ë¶€ë¡-ì†Œìœ ê¶Œ-ìš”ì•½-ì²´í¬ì¹´ë“œ)

---

## 1. ì „ì²´ ì‹œìŠ¤í…œ ë ˆì´ì–´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          EXTERNAL â€” ë¸Œë¼ìš°ì € / í´ë¼ì´ì–¸íŠ¸                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚ HTTP Request
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [LAYER 1]  SECURITY LAYER          â˜… ì±…ì„ê°œë°œì ë‹¨ë… ì†Œìœ  â˜…                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  SecurityConfig.java  Â·  CustomUserDetails.java                       â”‚  â”‚
â”‚  â”‚  UrlPattern â€” permitAll / authenticated / hasRole                     â”‚  â”‚
â”‚  â”‚  Session ê¸°ë°˜ ì¸ì¦ (Spring Security)  Â·  CSRF ì„¤ì •                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚ ì¸ì¦ëœ ìš”ì²­ë§Œ í†µê³¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [LAYER 2]  CONTROLLER LAYER                                                â”‚
â”‚                                                                             â”‚
â”‚  ê°œë°œì A             ê°œë°œì B              ê°œë°œì C      ì±…ì„ê°œë°œì         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Reservation â”‚       â”‚ Staff/Doctor â”‚       â”‚  Admin   â”‚  â”‚  LLM     â”‚   â”‚
â”‚  â”‚ Controller  â”‚       â”‚ NurseCtrl    â”‚       â”‚ Controllerâ”‚  â”‚Controllerâ”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  ê³µí†µ ë ˆì´ì•„ì›ƒ ëª¨ë¸ ì£¼ì… â† ì±…ì„ê°œë°œìê°€ BaseController / Interceptor ì œê³µ         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [LAYER 3]  SERVICE LAYER                                                   â”‚
â”‚                                                                             â”‚
â”‚  ê°œë°œì A             ê°œë°œì B              ê°œë°œì C      ì±…ì„ê°œë°œì         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Reservation â”‚       â”‚ Reception    â”‚       â”‚  Admin   â”‚  â”‚  Llm     â”‚   â”‚
â”‚  â”‚ Service     â”‚       â”‚ Treatment    â”‚       â”‚  *Serviceâ”‚  â”‚  Service â”‚   â”‚
â”‚  â”‚             â”‚       â”‚ NurseService â”‚       â”‚          â”‚  â”‚          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  ì±…ì„ê°œë°œì ì†Œìœ  ê³µí†µ: ReservationValidationService Â· SlotService                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [LAYER 4]  REPOSITORY LAYER       â˜… íŒŒì¼ ì†Œìœ ì = ê¸°ëŠ¥ ë‹´ë‹¹ì â˜…             â”‚
â”‚                                                                             â”‚
â”‚  ê°œë°œì A             ê°œë°œì B              ê°œë°œì C      ì±…ì„ê°œë°œì         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Patient     â”‚       â”‚ Reservation  â”‚       â”‚  Staff   â”‚  â”‚  Llm     â”‚   â”‚
â”‚  â”‚ Repository  â”‚       â”‚ TreatRecord  â”‚       â”‚  Item    â”‚  â”‚  Recomm. â”‚   â”‚
â”‚  â”‚ LlmRecomm.  â”‚       â”‚ Repository   â”‚       â”‚  Rule    â”‚  â”‚  Repository   â”‚
â”‚  â”‚ (read only) â”‚       â”‚              â”‚       â”‚  Reposit.â”‚  â”‚          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [LAYER 5]  PERSISTENCE LAYER      â˜… ì±…ì„ê°œë°œì ë‹¨ë… ì†Œìœ  â˜…                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Entity í´ë˜ìŠ¤ (JPA @Entity)  Â·  ERD ì§ì ‘ ë°˜ì˜                        â”‚  â”‚
â”‚  â”‚  PATIENT Â· STAFF Â· DOCTOR Â· DEPARTMENT Â· RESERVATION                  â”‚  â”‚
â”‚  â”‚  TREATMENT_RECORD Â· ITEM Â· HOSPITAL_RULE Â· LLM_RECOMMENDATION        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  MySQL Database  Â·  application.properties  Â·  DDL ìŠ¤í¬ë¦½íŠ¸           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [EXTERNAL]  THIRD-PARTY            â˜… ì±…ì„ê°œë°œì ë‹¨ë… ì†Œìœ  â˜…                   â”‚
â”‚                                                                             â”‚
â”‚  Claude API (Anthropic)  â†’  LlmService  (ì±…ì„ê°œë°œì êµ¬í˜„ â†’ ì¸í„°í˜ì´ìŠ¤ ê³µê°œ)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Spring Boot íŒ¨í‚¤ì§€ êµ¬ì¡° & ì†Œìœ ì ë§µí•‘

> ìƒ‰ìƒ ë²”ë¡€: â—†ì±…ì„ê°œë°œì  â–²ê°œë°œìA  â—ê°œë°œìB  â– ê°œë°œìC  â—‹ê³µë™(í„°ì¹˜ ê¸ˆì§€ ê·œì¹™)
> 

```
com.hospital
â”‚
â”œâ”€â”€ config/                            â—† ì±…ì„ê°œë°œì ë‹¨ë…
â”‚   â”œâ”€â”€ SecurityConfig.java               â””â”€ ROLEë³„ URL ì ‘ê·¼ ì œì–´
â”‚   â”œâ”€â”€ WebMvcConfig.java                 â””â”€ Interceptor ë“±ë¡
â”‚   â””â”€â”€ ClaudeApiConfig.java              â””â”€ API Key ì£¼ì…
â”‚
â”œâ”€â”€ common/                            â—† ì±…ì„ê°œë°œì ë‹¨ë…
â”‚   â”œâ”€â”€ interceptor/
â”‚   â”‚   â””â”€â”€ LayoutModelInterceptor.java   â””â”€ í—¤ë”/ì‚¬ì´ë“œë°” ëª¨ë¸ ìë™ ì£¼ì…
â”‚   â”œâ”€â”€ exception/
â”‚   â”‚   â”œâ”€â”€ GlobalExceptionHandler.java
â”‚   â”‚   â””â”€â”€ CustomException.java
â”‚   â””â”€â”€ util/
â”‚       â””â”€â”€ ReservationNumberGenerator.java
â”‚
â”œâ”€â”€ domain/                            â—† ì±…ì„ê°œë°œì ë‹¨ë… (Entity)
â”‚   â”œâ”€â”€ Patient.java
â”‚   â”œâ”€â”€ Staff.java
â”‚   â”œâ”€â”€ Doctor.java
â”‚   â”œâ”€â”€ Department.java
â”‚   â”œâ”€â”€ Reservation.java
â”‚   â”œâ”€â”€ TreatmentRecord.java
â”‚   â”œâ”€â”€ Item.java
â”‚   â”œâ”€â”€ HospitalRule.java
â”‚   â””â”€â”€ LlmRecommendation.java
â”‚
â”œâ”€â”€ reservation/                       â–² ê°œë°œì A ì†Œìœ 
â”‚   â”œâ”€â”€ ReservationController.java        â””â”€ GET/POST /reservation/**
â”‚   â”œâ”€â”€ ReservationService.java           â””â”€ ì˜ˆì•½ ìƒì„±Â·ì¡°íšŒ
â”‚   â”œâ”€â”€ ReservationRepository.java        â””â”€ RESERVATION í…Œì´ë¸” CRUD
â”‚   â”œâ”€â”€ PatientRepository.java            â””â”€ PATIENT í…Œì´ë¸” CRUD
â”‚   â””â”€â”€ dto/
â”‚       â”œâ”€â”€ ReservationCreateRequest.java
â”‚       â””â”€â”€ ReservationResultDto.java
â”‚
â”œâ”€â”€ staff/                             â— ê°œë°œì B ì†Œìœ 
â”‚   â”œâ”€â”€ reception/
â”‚   â”‚   â”œâ”€â”€ ReceptionController.java      â””â”€ GET/POST /staff/reception/**
â”‚   â”‚   â”œâ”€â”€ ReceptionService.java         â””â”€ RESERVEDâ†’RECEIVED ìƒíƒœ ì „ì´
â”‚   â”‚   â””â”€â”€ dto/
â”‚   â”‚       â””â”€â”€ ReceptionUpdateRequest.java
â”‚   â”œâ”€â”€ walkin/
â”‚   â”‚   â”œâ”€â”€ WalkinController.java         â””â”€ GET/POST /staff/walkin/**
â”‚   â”‚   â””â”€â”€ WalkinService.java            â””â”€ ë°©ë¬¸ì ‘ìˆ˜ @Transactional
â”‚   â””â”€â”€ dashboard/
â”‚       â””â”€â”€ StaffDashboardController.java â””â”€ GET /staff/dashboard
â”‚
â”œâ”€â”€ doctor/                            â— ê°œë°œì B ì†Œìœ 
â”‚   â”œâ”€â”€ DoctorDashboardController.java    â””â”€ GET /doctor/dashboard
â”‚   â”œâ”€â”€ treatment/
â”‚   â”‚   â”œâ”€â”€ TreatmentController.java      â””â”€ GET/POST /doctor/treatment/**
â”‚   â”‚   â”œâ”€â”€ TreatmentService.java         â””â”€ ì§„ë£Œì™„ë£Œ ì²˜ë¦¬Â·COMPLETED ì „ì´
â”‚   â”‚   â”œâ”€â”€ TreatmentRecordRepository.java
â”‚   â”‚   â””â”€â”€ dto/
â”‚   â”‚       â””â”€â”€ TreatmentCompleteRequest.java
â”‚   â””â”€â”€ ReservationReadRepository.java    â””â”€ ì½ê¸° ì „ìš© (ì±…ì„ê°œë°œì ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©)
â”‚
â”œâ”€â”€ nurse/                             â— ê°œë°œì B ì†Œìœ 
â”‚   â”œâ”€â”€ NurseDashboardController.java     â””â”€ GET /nurse/dashboard
â”‚   â”œâ”€â”€ schedule/
â”‚   â”‚   â””â”€â”€ ScheduleController.java       â””â”€ GET /nurse/schedule/**
â”‚   â””â”€â”€ patient/
â”‚       â”œâ”€â”€ PatientUpdateController.java  â””â”€ POST /nurse/patient/update
â”‚       â””â”€â”€ PatientUpdateService.java
â”‚
â”œâ”€â”€ admin/                             â–  ê°œë°œì C ì†Œìœ 
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â””â”€â”€ AdminDashboardController.java â””â”€ GET /admin/dashboard
â”‚   â”œâ”€â”€ reservation/
â”‚   â”‚   â””â”€â”€ AdminReservationController.java
â”‚   â”œâ”€â”€ reception/
â”‚   â”‚   â””â”€â”€ AdminReceptionController.java
â”‚   â”œâ”€â”€ patient/
â”‚   â”‚   â”œâ”€â”€ AdminPatientController.java
â”‚   â”‚   â””â”€â”€ AdminPatientService.java
â”‚   â”œâ”€â”€ staff/
â”‚   â”‚   â”œâ”€â”€ AdminStaffController.java
â”‚   â”‚   â”œâ”€â”€ AdminStaffService.java
â”‚   â”‚   â””â”€â”€ AdminStaffRepository.java
â”‚   â”œâ”€â”€ department/
â”‚   â”‚   â”œâ”€â”€ AdminDepartmentController.java
â”‚   â”‚   â”œâ”€â”€ AdminDepartmentService.java
â”‚   â”‚   â””â”€â”€ DepartmentRepository.java
â”‚   â”œâ”€â”€ item/
â”‚   â”‚   â”œâ”€â”€ AdminItemController.java
â”‚   â”‚   â”œâ”€â”€ AdminItemService.java
â”‚   â”‚   â””â”€â”€ ItemRepository.java
â”‚   â””â”€â”€ rule/
â”‚       â”œâ”€â”€ AdminRuleController.java
â”‚       â”œâ”€â”€ AdminRuleService.java
â”‚       â””â”€â”€ HospitalRuleRepository.java
â”‚
â””â”€â”€ llm/                               â—† ì±…ì„ê°œë°œì ì†Œìœ  (Service) + â— ê°œë°œì B (UI ì—°ê²°)
    â”œâ”€â”€ LlmController.java                â””â”€ POST /llm/symptom/analyze
    â”œâ”€â”€ LlmService.java                   â””â”€ Claude API í˜¸ì¶œ â† ì±…ì„ê°œë°œì êµ¬í˜„
    â”œâ”€â”€ ChatbotController.java            â””â”€ POST /llm/chatbot/ask â† ê°œë°œì B UI ì—°ê²°
    â”œâ”€â”€ LlmRecommendationRepository.java
    â””â”€â”€ dto/
        â”œâ”€â”€ SymptomRequest.java
        â”œâ”€â”€ SymptomResponse.java          â””â”€ ì±…ì„ê°œë°œìê°€ DTO í™•ì • í›„ ê³µìœ 
        â”œâ”€â”€ ChatbotRequest.java
        â””â”€â”€ ChatbotResponse.java
```

---

## 3. ë‹´ë‹¹ìë³„ ì†Œìœ  ì˜ì—­ ì „ì²´ ì§€ë„

### 3.1 ì±…ì„ê°œë°œì (Tech Lead)

> **ì² í•™:** ë¼ˆëŒ€ë¥¼ ì„¸ìš´ë‹¤. ê°œë°œìë“¤ì´ ì±„ì›Œ ë„£ì„ í‹€ì„ ë§Œë“ ë‹¤.
> 

| ì˜ì—­ | íŒŒì¼ / í´ë˜ìŠ¤ | ì™„ë£Œ ëª©í‘œ |
| --- | --- | --- |
| **ì¸í”„ë¼Â·ì„¤ì •** | SecurityConfig, WebMvcConfig, application.properties | W1 ì¤‘ë°˜ |
| **ê³µí†µ ë ˆì´ì•„ì›ƒ** | LayoutModelInterceptor â€” pageTitleÂ·loginNameÂ·isRoleÂ·showChatbot ìë™ ì£¼ì… | W1 ì¤‘ë°˜ |
| **Entity ì „ì²´** | Patient, Staff, Doctor, Department, Reservation, TreatmentRecord, Item, HospitalRule, LlmRecommendation | W1 ì „ë°˜ |
| **ì˜ˆì•½ í•µì‹¬ ë¡œì§** | ReservationValidationService, SlotService (ì¤‘ë³µ ë°©ì§€ íŠ¸ëœì­ì…˜) | W1 í›„ë°˜ |
| **ì˜ˆì•½ë²ˆí˜¸ ë°œê¸‰** | ReservationNumberGenerator.java | W1 í›„ë°˜ |
| **ì˜ˆì™¸ ì²˜ë¦¬** | GlobalExceptionHandler, CustomException | W1 í›„ë°˜ |
| **LLM ì„œë¹„ìŠ¤** | LlmService (Claude API í˜¸ì¶œÂ·íŒŒì‹±Â·í´ë°±) | W3 ë§ ì°©ìˆ˜ â†’ W4 ì´ˆ ì™„ë£Œ |
| **LLM DTO** | SymptomRequest/Response, ChatbotRequest/Response | W3 ë§ í™•ì • í›„ íŒ€ ê³µìœ  |
| **ë°°í¬Â·ë³´ì•ˆ ì ê²€** | .gitignore, í™˜ê²½ë³€ìˆ˜, Linux ì„œë²„ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ | W4 í›„ë°˜ |

**AI í™œìš©:** Entity ì´ˆì•ˆ ìƒì„±, SecurityConfig URL íŒ¨í„´ ê²€í† , LLM í”„ë¡¬í”„íŠ¸ ì´ˆì•ˆ

---

### 3.2 ê°œë°œì A â€” ì™¸ë¶€ ì˜ˆì•½ íë¦„

> **ë‹´ë‹¹ URL ì˜ì—­:** `/` Â· `/reservation/**`**ë‹´ë‹¹ í™”ë©´:** 00 (ë¹„íšŒì› ë©”ì¸) Â· 01~04 (ì˜ˆì•½ íë¦„ ì „ì²´)
**ë‹´ë‹¹ ë ˆì´ì•„ì›ƒ:** L1 (H1 í—¤ë”, F1 í‘¸í„°, ì‚¬ì´ë“œë°” ì—†ìŒ)
> 

| ì˜ì—­ | íŒŒì¼ / í´ë˜ìŠ¤ | ì™„ë£Œ ëª©í‘œ |
| --- | --- | --- |
| HomeController | `GET /` â†’ home/index.mustache | W1 ë§ |
| ReservationController | `GET /reservation`, `GET/POST /reservation/symptom`, `GET/POST /reservation/direct`, `GET /reservation/complete` | W2 |
| ReservationService | ì˜ˆì•½ ìƒì„± (`POST /reservation/create`) â€” **SlotService í˜¸ì¶œë¡œ ì¤‘ë³µ ë°©ì§€** | W2 |
| PatientRepository | Patient CRUD | W2 |
| ReservationRepository | Reservation ì €ì¥Â·ì¡°íšŒ | W2 |
| Mustache í…œí”Œë¦¿ | `home/index.mustache`, `reservation/*.mustache` | W1~W2 |
| LLM ì¶”ì²œ UI ì—°ê²° | ì¦ìƒ ì…ë ¥ í¼ â†’ `POST /llm/symptom/analyze` í˜¸ì¶œ + ê²°ê³¼ ë Œë”ë§ | W4 (LlmService ì™„ì„± í›„) |

**ì ˆëŒ€ í„°ì¹˜ ê¸ˆì§€:** `staff/**`, `doctor/**`, `nurse/**`, `admin/**`, LlmService ë‚´ë¶€

**AI í™œìš©:** ì˜ˆì•½ í¼ Mustache í…œí”Œë¦¿, ì˜ì‚¬ ë™ì  ì¡°íšŒ JS, ìŠ¬ë¡¯ ì„ íƒ JS, LLM ì¶”ì²œ ê²°ê³¼ ë Œë”ë§ HTML

---

### 3.3 ê°œë°œì B â€” ë‚´ë¶€ ì§ì› í™”ë©´ (STAFFÂ·DOCTORÂ·NURSE)

> **ë‹´ë‹¹ URL ì˜ì—­:** `/staff/**` Â· `/doctor/**` Â· `/nurse/**`**ë‹´ë‹¹ í™”ë©´:** 06~16 (STAFF 5ê°œ + DOCTOR 3ê°œ + NURSE 3ê°œ)
**ë‹´ë‹¹ ë ˆì´ì•„ì›ƒ:** L2 / S1(STAFF) Â· S2(DOCTOR) Â· S3(NURSE)
> 

| ì˜ì—­ | íŒŒì¼ / í´ë˜ìŠ¤ | ì™„ë£Œ ëª©í‘œ |
| --- | --- | --- |
| StaffDashboardController | `GET /staff/dashboard` | W1 ë§ |
| ReceptionController | `GET /staff/reception/list`, `GET /staff/reception/detail`, `POST /staff/reception/receive` | W2 |
| ReceptionService | RESERVED â†’ RECEIVED ìƒíƒœ ì „ì´ ê²€ì¦ | W2 |
| WalkinController | `GET /staff/walkin/new`, `POST /staff/walkin/create` | W2 |
| WalkinService | Patient ìƒì„± + Reservation(RECEIVED) ë‹¨ì¼ @Transactional | W2 |
| PhoneReservationController | `GET /staff/reservation/new`, `POST /staff/reservation/create` | W2 |
| DoctorDashboardController | `GET /doctor/dashboard` | W2 ë§ |
| TreatmentController | `GET /doctor/treatment/list`, `GET/POST /doctor/treatment/detail` | W3 |
| TreatmentService | RECEIVED â†’ COMPLETED ì „ì´, TreatmentRecord ì €ì¥ | W3 |
| NurseDashboardController | `GET /nurse/dashboard` | W3 |
| ScheduleController | `GET /nurse/schedule/list` | W3 |
| PatientUpdateController | `POST /nurse/patient/update` | W3 |
| TreatmentRecordRepository | TreatmentRecord CRUD | W3 |
| Mustache í…œí”Œë¦¿ | `staff/*.mustache`, `doctor/*.mustache`, `nurse/*.mustache` | W2~W3 |
| ì±—ë´‡ UI ì—°ê²° | chatbot-overlay.mustache + `/llm/chatbot/ask` JS ë¹„ë™ê¸° í˜¸ì¶œ | W4 |

**ì ˆëŒ€ í„°ì¹˜ ê¸ˆì§€:** `reservation/**` (ReservationService), `admin/**`, LlmService ë‚´ë¶€, Entity í´ë˜ìŠ¤

**AI í™œìš©:** ëŒ€ì‹œë³´ë“œ Mustache í…œí”Œë¦¿, ì ‘ìˆ˜ ì²˜ë¦¬ í¼ JS, ì±—ë´‡ ì˜¤ë²„ë ˆì´ JS ë¹„ë™ê¸°, ìƒíƒœ ë°°ì§€ ìƒ‰ìƒ CSS

---

### 3.4 ê°œë°œì C â€” ê´€ë¦¬ì í™”ë©´ ì „ì²´

> **ë‹´ë‹¹ URL ì˜ì—­:** `/admin/**`**ë‹´ë‹¹ í™”ë©´:** 17~32 (ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ + ëª¨ë“  ê´€ë¦¬ CRUD)
**ë‹´ë‹¹ ë ˆì´ì•„ì›ƒ:** L2 / S4 (ADMIN ì‚¬ì´ë“œ ë©”ë‰´)
> 

| ì˜ì—­ | íŒŒì¼ / í´ë˜ìŠ¤ | ì™„ë£Œ ëª©í‘œ |
| --- | --- | --- |
| AdminDashboardController | `GET /admin/dashboard` + stats ì§‘ê³„ | W1 ë§ |
| AdminReservationController | `GET /admin/reservation/list`, `POST /admin/reservation/cancel` | W2 |
| AdminReceptionController | `GET /admin/reception/list` | W2 |
| AdminPatientController/Service | `GET /admin/patient/list`, `GET /admin/patient/detail` | W2 |
| AdminStaffController/Service | CRUD: `GET/POST /admin/staff/**` | W2 |
| AdminStaffRepository | Staff CRUD | W2 |
| AdminDepartmentController/Service | CRUD: `GET/POST /admin/department/**` | W2 |
| DepartmentRepository | Department CRUD | W2 |
| AdminItemController/Service | CRUD: `GET/POST /admin/item/**` | W3 |
| ItemRepository | Item CRUD | W3 |
| AdminRuleController/Service | CRUD: `GET/POST /admin/rule/**` | W3~W4 |
| HospitalRuleRepository | HospitalRule CRUD | W3~W4 |
| Mustache í…œí”Œë¦¿ | `admin/*.mustache` (15ê°œ í™”ë©´) | W1~W4 |

**ì ˆëŒ€ í„°ì¹˜ ê¸ˆì§€:** `reservation/**`, `staff/**`, `doctor/**`, `nurse/**`, LlmService ë‚´ë¶€, Entity í´ë˜ìŠ¤

**AI í™œìš©:** CRUD í¼ Mustache í…œí”Œë¦¿, í˜ì´ì§• ì»´í¬ë„ŒíŠ¸, ê²€ìƒ‰ í•„í„° í¼, ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ í†µê³„ ì§‘ê³„ ì¿¼ë¦¬

---

## 4. ê³µìœ  ë ˆì´ì–´ â€” ì±…ì„ê°œë°œì ë‹¨ë… ì†Œìœ 

ê°œë°œìë“¤ì´ ì˜ì¡´í•˜ì§€ë§Œ **ì ˆëŒ€ ìˆ˜ì • ë¶ˆê°€**í•œ ê³µìœ  ì½”ë“œ.
ìˆ˜ì •ì´ í•„ìš”í•˜ë©´ ë°˜ë“œì‹œ ì±…ì„ê°œë°œìì—ê²Œ ìš”ì²­.

### 4.1 SlotService (ì˜ˆì•½ ì¤‘ë³µ ë°©ì§€)

```java
// com.hospital.common.service.SlotService.java  â—† ì±…ì„ê°œë°œì ì†Œìœ 
public interface SlotService {
    List<String> getAvailableSlots(Long doctorId, LocalDate date);
    void validateAndLock(Long doctorId, LocalDate date, String timeSlot); // @Transactional + UNIQUE ê²€ì¦
}
```

> ê°œë°œì Aì˜ `ReservationService`ì™€ ê°œë°œì Bì˜ `WalkinService`ê°€ **ë°˜ë“œì‹œ ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ í˜¸ì¶œ**í•´ì•¼ í•¨. ì§ì ‘ Reservation ì €ì¥ ì‹œ ì¤‘ë³µ í—ˆìš© ë²„ê·¸ ë°œìƒ.
> 

### 4.2 LayoutModelInterceptor (ê³µí†µ ë ˆì´ì•„ì›ƒ ëª¨ë¸ ìë™ ì£¼ì…)

```java
// com.hospital.common.interceptor.LayoutModelInterceptor.java  â—† ì±…ì„ê°œë°œì ì†Œìœ 
// ëª¨ë“  Controllerì—ì„œ Model.addAttribute ë¶ˆí•„ìš”
// Interceptorê°€ ìë™ìœ¼ë¡œ ì£¼ì…í•˜ëŠ” Model í‚¤:
//   pageTitle, loginName, loginRole
//   isStaff, isDoctor, isNurse, isAdmin
//   showChatbot, currentMenu
```

> ê°œë°œìë“¤ì€ Controllerì—ì„œ `pageTitle`ê³¼ `currentMenu`ë§Œ ì„¤ì •í•˜ë©´ ë¨.
ë‚˜ë¨¸ì§€ ROLE ê´€ë ¨ ëª¨ë¸ì€ Interceptorê°€ ì„¸ì…˜ì—ì„œ ìë™ ì¶”ì¶œ.
> 

### 4.3 Entity í´ë˜ìŠ¤ (ë³€ê²½ ê¸ˆì§€)

ëª¨ë“  `domain/*.java` EntityëŠ” ì±…ì„ê°œë°œìë§Œ ìˆ˜ì •.
ê°œë°œìê°€ í•„ë“œ ì¶”ê°€ë‚˜ ì»¬ëŸ¼ ìˆ˜ì •ì´ í•„ìš”í•˜ë©´ â†’ ì±…ì„ê°œë°œìì—ê²Œ GitHub Issue ë“±ë¡.

---

## 5. ê¸°ëŠ¥ ëª¨ë“ˆë³„ ê²½ê³„ ì •ì˜

> ê° ëª¨ë“ˆì˜ **ì…ë ¥**, **ì¶œë ¥**, **ë‹´ë‹¹ì**, **íƒ€ ëª¨ë“ˆ ì˜ì¡´ ê·œì¹™**ì„ ëª…ì‹œ.
> 

---

### ëª¨ë“ˆ A â€” ì™¸ë¶€ ì˜ˆì•½ (ê°œë°œì A)

```
[ì…ë ¥]
  - ë¹„íšŒì› í™˜ìì˜ HTTP ìš”ì²­ (ì´ë¦„Â·ì—°ë½ì²˜Â·ì§„ë£Œê³¼Â·ì˜ì‚¬Â·ë‚ ì§œÂ·ì‹œê°„)
  - LLM ì¶”ì²œ ê²°ê³¼ (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° â€” LlmService ì™„ì„± í›„ ì—°ê²°)

[ì²˜ë¦¬]
  ReservationService.createReservation()
    â”œâ”€â”€ PatientRepository.findOrCreate()  â† Patient ìƒì„± ë˜ëŠ” ì¡°íšŒ
    â”œâ”€â”€ SlotService.validateAndLock()     â† â—† ì±…ì„ê°œë°œì ì†Œìœ , ë°˜ë“œì‹œ í˜¸ì¶œ
    â””â”€â”€ ReservationRepository.save()     â† Reservation ì €ì¥

[ì¶œë ¥]
  - ì˜ˆì•½ ì™„ë£Œ í™”ë©´ ë¦¬ë‹¤ì´ë ‰íŠ¸ (/reservation/complete?reservationNumber=...)
  - ì˜ˆì•½ë²ˆí˜¸ (ReservationNumberGenerator ì‚¬ìš©)

[ì˜ì¡´ ê²½ê³„]
  âœ… í˜¸ì¶œ ê°€ëŠ¥: SlotService (ê³µìœ ), ReservationNumberGenerator (ê³µìœ )
  âœ… ì½ê¸° ê°€ëŠ¥: DepartmentRepository.findAllActive() (ì§„ë£Œê³¼ ëª©ë¡)
  âŒ ì§ì ‘ ìƒì„± ë¶ˆê°€: Reservation ì €ì¥ ì‹œ SlotService ìš°íšŒ ì ˆëŒ€ ê¸ˆì§€
  âŒ ì ‘ê·¼ ê¸ˆì§€: ReceptionService, TreatmentService, AdminService ì „ì²´
```

---

### ëª¨ë“ˆ B â€” ì ‘ìˆ˜ ì²˜ë¦¬ (ê°œë°œì B)

```
[ì…ë ¥]
  - STAFF ë¡œê·¸ì¸ ì„¸ì…˜
  - reservationId (URL íŒŒë¼ë¯¸í„°)
  - ì¶”ê°€ í™˜ì ì •ë³´ (ì£¼ì†ŒÂ·íŠ¹ì´ì‚¬í•­) ì„ íƒ ì…ë ¥

[ì²˜ë¦¬]
  ReceptionService.processReception()
    â”œâ”€â”€ ReservationRepository.findById()  â† í˜„ì¬ ìƒíƒœ ê²€ì¦
    â”œâ”€â”€ ìƒíƒœ ê²€ì¦: RESERVEDê°€ ì•„ë‹ˆë©´ ì˜ˆì™¸
    â”œâ”€â”€ Reservation.status = RECEIVED    â† ìƒíƒœ ì „ì´
    â””â”€â”€ Patient ì£¼ì†ŒÂ·íŠ¹ì´ì‚¬í•­ ì—…ë°ì´íŠ¸

[ì¶œë ¥]
  - ì ‘ìˆ˜ ëª©ë¡ ë¦¬ë‹¤ì´ë ‰íŠ¸ (/staff/reception/list)
  - ì™„ë£Œ toast ë©”ì‹œì§€

[ì˜ì¡´ ê²½ê³„]
  âœ… í˜¸ì¶œ ê°€ëŠ¥: ReservationRepository (ì½ê¸°Â·ìˆ˜ì •), PatientRepository (ìˆ˜ì •)
  âŒ ì§ì ‘ ìƒì„± ë¶ˆê°€: ìƒˆ Reservationì€ ë°˜ë“œì‹œ ëª¨ë“ˆ A ë˜ëŠ” SlotService ê²½ìœ 
  âŒ ì ‘ê·¼ ê¸ˆì§€: TreatmentService, AdminService, LlmService
```

---

### ëª¨ë“ˆ C â€” ë°©ë¬¸ ì ‘ìˆ˜ (ê°œë°œì B)

```
[ì…ë ¥]
  - STAFF ë¡œê·¸ì¸ ì„¸ì…˜
  - í™˜ì ì •ë³´ (ì´ë¦„Â·ì—°ë½ì²˜Â·ì´ë©”ì¼Â·ì£¼ì†ŒÂ·íŠ¹ì´ì‚¬í•­)
  - ì§„ë£Œ ì •ë³´ (ì§„ë£Œê³¼Â·ì˜ì‚¬Â·ë‚ ì§œÂ·ì‹œê°„)

[ì²˜ë¦¬]  @Transactional (ê²½ê³„ ë‚´ ì „ì²´ ë¡¤ë°±)
  WalkinService.createWalkinReservation()
    â”œâ”€â”€ PatientRepository.findOrCreate()     â† Patient ìƒì„± ë˜ëŠ” ì¡°íšŒ
    â”œâ”€â”€ SlotService.validateAndLock()        â† â—† ì±…ì„ê°œë°œì ì†Œìœ , ë°˜ë“œì‹œ í˜¸ì¶œ
    â””â”€â”€ ReservationRepository.save(RECEIVED) â† status ë°”ë¡œ RECEIVED

[ì˜ì¡´ ê²½ê³„]
  âœ… ì „í™” ì˜ˆì•½(PhoneReservationService)ê³¼ ì½”ë“œ êµ¬ì¡° ë™ì¼í•˜ë‚˜ ë³„ë„ í´ë˜ìŠ¤ ìœ ì§€
  âŒ ReceptionService.processReception() í˜¸ì¶œ ê¸ˆì§€ (RESERVED ê²½ìœ  ë¶ˆí•„ìš”)
```

---

### ëª¨ë“ˆ D â€” ì§„ë£Œ ê¸°ë¡ (ê°œë°œì B)

```
[ì…ë ¥]
  - DOCTOR ë¡œê·¸ì¸ ì„¸ì…˜ (ë³¸ì¸ ë‹´ë‹¹ í™˜ìë§Œ ì ‘ê·¼ ê°€ëŠ¥)
  - reservationId, diagnosisNote (í…ìŠ¤íŠ¸)

[ì²˜ë¦¬]  @Transactional
  TreatmentService.completeTreatment()
    â”œâ”€â”€ ê¶Œí•œ ê²€ì¦: reservation.doctor.staffId == í˜„ì¬ ë¡œê·¸ì¸ staffId
    â”œâ”€â”€ ìƒíƒœ ê²€ì¦: RECEIVEDê°€ ì•„ë‹ˆë©´ ì˜ˆì™¸
    â”œâ”€â”€ TreatmentRecord ì €ì¥
    â””â”€â”€ Reservation.status = COMPLETED

[ì˜ì¡´ ê²½ê³„]
  âœ… í˜¸ì¶œ ê°€ëŠ¥: TreatmentRecordRepository, ReservationRepository (ìƒíƒœ ë³€ê²½)
  âŒ ì ‘ê·¼ ê¸ˆì§€: ReceptionService (ìƒíƒœ ì „ì´ ì¤‘ë³µ ë°©ì§€), AdminService
```

---

### ëª¨ë“ˆ E â€” ê´€ë¦¬ì CRUD (ê°œë°œì C)

```
[ê³µí†µ íŒ¨í„´]  AdminXxxController â†’ AdminXxxService â†’ XxxRepository

ê° í•˜ìœ„ ëª¨ë“ˆ ë…ë¦½:
  â”œâ”€â”€ E1: Staff CRUD       â†’ AdminStaffController/Service/AdminStaffRepository
  â”œâ”€â”€ E2: Department CRUD  â†’ AdminDepartmentController/Service/DepartmentRepository
  â”œâ”€â”€ E3: Item CRUD        â†’ AdminItemController/Service/ItemRepository
  â””â”€â”€ E4: HospitalRule CRUD â†’ AdminRuleController/Service/HospitalRuleRepository

[ì˜ì¡´ ê²½ê³„]
  âœ… E1~E4 í•˜ìœ„ ëª¨ë“ˆì€ ì„œë¡œ ë…ë¦½, ì§ì ‘ í˜¸ì¶œ ê¸ˆì§€ (í•„ìš” ì‹œ Service ê²½ìœ )
  âœ… AdminDashboardëŠ” ê° Repositoryì—ì„œ ì§‘ê³„ ì½ê¸° ì „ìš© ì ‘ê·¼ë§Œ í—ˆìš©
  âŒ Reservation ìƒíƒœ ì§ì ‘ ë³€ê²½ ê¸ˆì§€ (ì·¨ì†Œë§Œ ì˜ˆì™¸ â€” AdminReservationServiceì—ì„œë§Œ)
  âŒ Patient Entity ì§ì ‘ ì‚­ì œ ê¸ˆì§€ (ë°ì´í„° ë³´ì¡´ ì •ì±…)
```

---

### ëª¨ë“ˆ F â€” LLM ê¸°ëŠ¥ (ì±…ì„ê°œë°œì ì†Œìœ  Â· ê°œë°œì UI ì—°ê²°)

```
[F1] ì¦ìƒ ì¶”ì²œ (ì±…ì„ê°œë°œì LlmService + ê°œë°œì A UI)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ì±…ì„ê°œë°œì ì†Œìœ :
    LlmService.analyzeSymptom(String symptomText): SymptomResponse
      â”œâ”€â”€ Claude API POST (Anthropic)
      â”œâ”€â”€ ì‘ë‹µ íŒŒì‹± â†’ recommendedDept, recommendedDoctor, recommendedTime
      â”œâ”€â”€ LlmRecommendation DB ì €ì¥ (ì´ë ¥)
      â””â”€â”€ í´ë°±: API ì‹¤íŒ¨ ì‹œ LLM_SERVICE_UNAVAILABLE ì˜ˆì™¸ ë°˜í™˜

  ê°œë°œì A ì—°ê²°:
    reservation/symptom.mustache
      â””â”€â”€ fetch('POST /llm/symptom/analyze') â†’ ì¶”ì²œ ê²°ê³¼ ë Œë”ë§
      â””â”€â”€ í´ë°± ì²˜ë¦¬: ì˜¤ë¥˜ toast + 3ì´ˆ í›„ /reservation/direct ì´ë™

[F2] ë³‘ì› ê·œì¹™ ì±—ë´‡ (ì±…ì„ê°œë°œì LlmService + ê°œë°œì B UI)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ì±…ì„ê°œë°œì ì†Œìœ :
    LlmService.askChatbot(String question, Long staffId): ChatbotResponse
      â”œâ”€â”€ HospitalRule ëª©ë¡ (is_active=true) ì»¨í…ìŠ¤íŠ¸ ì£¼ì…
      â”œâ”€â”€ Claude API POST
      â””â”€â”€ LlmChatHistory DB ì €ì¥ (ì„¸ì…˜ ë‹¨ìœ„)

  ê°œë°œì B ì—°ê²°:
    common/chatbot-overlay.mustache
      â””â”€â”€ fetch('POST /llm/chatbot/ask') â†’ ì‘ë‹µ ë Œë”ë§
      â””â”€â”€ ëŒ€í™” ì´ë ¥ í‘œì‹œ
```

---

## 6. AI ë³´ì¡° ì—­í•  ë²”ìœ„

> AIëŠ” **ì½”ë“œ ì´ˆì•ˆÂ·í…œí”Œë¦¿Â·ë””ë²„ê¹… ë³´ì¡°** ì—­í• . ì„¤ê³„ ê²°ì •Â·ì½”ë“œ ë¦¬ë·°ëŠ” ì±…ì„ê°œë°œì.
> 

| ë‹´ë‹¹ì | AI í™œìš© ê°€ëŠ¥ ë²”ìœ„ | AIì—ê²Œ ìš”ì²­í•˜ë©´ ì•ˆ ë˜ëŠ” ê²ƒ |
| --- | --- | --- |
| **ì±…ì„ê°œë°œì** | SecurityConfig URL íŒ¨í„´ ê²€í† , LLM í”„ë¡¬í”„íŠ¸ ì´ˆì•ˆ, Entity ì´ˆì•ˆ, ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ | ì•„í‚¤í…ì²˜ ê²°ì •, íŠ¸ëœì­ì…˜ ê²½ê³„ ì„¤ê³„ |
| **ê°œë°œì A** | ì˜ˆì•½ í¼ Mustache ì´ˆì•ˆ, ìŠ¬ë¡¯ ë™ì  ì¡°íšŒ JS, LLM ì¶”ì²œ ê²°ê³¼ ë Œë”ë§ | SlotService ë¡œì§ ì§ì ‘ êµ¬í˜„ ìš”ì²­, Entity ìˆ˜ì • ìš”ì²­ |
| **ê°œë°œì B** | ëŒ€ì‹œë³´ë“œ í…œí”Œë¦¿, ì ‘ìˆ˜ ì²˜ë¦¬ í¼, ì±—ë´‡ ì˜¤ë²„ë ˆì´ JS, ìƒíƒœ ë°°ì§€ CSS | TreatmentService ìƒíƒœ ì „ì´ ë¡œì§ ì„ì˜ êµ¬í˜„ |
| **ê°œë°œì C** | CRUD í¼ Mustache ì¼ê´„ ìƒì„±, í˜ì´ì§• ì»´í¬ë„ŒíŠ¸, í†µê³„ ì§‘ê³„ JPQL | HospitalRuleê³¼ LLM ì—°ê²° ë¡œì§ ì§ì ‘ êµ¬í˜„ |

### AI ì‚¬ìš© í‘œì¤€ ì ˆì°¨

```
1. êµ¬í˜„ ì „ â†’ AIì—ê²Œ "ì´ ê¸°ëŠ¥ì˜ ë‹´ë‹¹ìê°€ ë‚˜(ê°œë°œìX)ê°€ ë§ëŠ”ì§€" í™•ì¸
2. ì½”ë“œ ì´ˆì•ˆ ìƒì„± â†’ AI í™œìš© (ë¹ ë¥¸ ì‹œì‘)
3. íƒ€ ë‹´ë‹¹ì ì˜ì—­ íŒŒì¼ ìˆ˜ì • í•„ìš” ì‹œ â†’ AIì—ê²Œ ìš”ì²­í•˜ì§€ ë§ê³  ì±…ì„ê°œë°œìì—ê²Œ ì—ìŠ¤ì»¬ë ˆì´ì…˜
4. PR ì „ â†’ AIì—ê²Œ "ì´ PRì— íƒ€ ë‹´ë‹¹ì íŒŒì¼ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€" ê²€í†  ìš”ì²­
5. 30ë¶„ ì´ìƒ ë¸”ë¡œí‚¹ â†’ AI ë””ë²„ê¹… ë³´ì¡° ìš”ì²­ + ë™ì‹œì— ì±…ì„ê°œë°œìì—ê²Œ DM
```

---

## 7. ì¸í„°í˜ì´ìŠ¤ ê³„ì•½ â€” ë‹´ë‹¹ì ê°„ ì—°ê²° ì§€ì 

> ë‹´ë‹¹ì ê°„ ê²½ê³„ì—ì„œ ì„œë¡œ í˜¸ì¶œí•˜ëŠ” ì§€ì ì„ ëª…ì‹œ. ì´ ê³„ì•½ì„ ì–´ê¸°ë©´ ì¶©ëŒ ë°œìƒ.
> 

### 7.1 ì±…ì„ê°œë°œì â†’ ê°œë°œì A (SlotService)

```java
// â—† ì±…ì„ê°œë°œìê°€ W1 í›„ë°˜ê¹Œì§€ ì™„ì„±í•´ developì— ë¨¸ì§€
// â–² ê°œë°œì AëŠ” ì´ ì¸í„°í˜ì´ìŠ¤ë§Œ í˜¸ì¶œí•˜ë©´ ë¨ (êµ¬í˜„ ë¶ˆí•„ìš”)

// com.hospital.common.service.SlotService
List<String> getAvailableSlots(Long doctorId, LocalDate date);
// â†’ ì‚¬ìš© ê°€ëŠ¥í•œ ì‹œê°„ ìŠ¬ë¡¯ ë°˜í™˜ (ì´ë¯¸ ì˜ˆì•½ëœ ìŠ¬ë¡¯ ì œì™¸)

void validateAndLock(Long doctorId, LocalDate date, String timeSlot);
// â†’ ì¤‘ë³µì´ë©´ ReservationConflictException ë°œìƒ (ìë™ ë¡¤ë°±)
// â†’ ì •ìƒì´ë©´ ì˜ˆì•½ ì €ì¥ê¹Œì§€ ê°™ì€ íŠ¸ëœì­ì…˜ì—ì„œ ì²˜ë¦¬
```

**ì•½ì†:** ì±…ì„ê°œë°œìëŠ” W1 ë§ê¹Œì§€ `SlotService` êµ¬í˜„ ì™„ì„± + `develop` ë¸Œëœì¹˜ ë¨¸ì§€.
ê°œë°œì AëŠ” W2 ì‹œì‘ ì‹œ pull í›„ ì˜ì¡´.

---

### 7.2 ì±…ì„ê°œë°œì â†’ ê°œë°œì AÂ·B (LayoutModelInterceptor)

```java
// â—† ì±…ì„ê°œë°œìê°€ W1 ì¤‘ë°˜ê¹Œì§€ ì™„ì„±
// â–²â–² ê°œë°œìë“¤ì€ Controllerì—ì„œ ì•„ë˜ ë‘ ê°€ì§€ë§Œ ì„¤ì •

// ëª¨ë“  ë‚´ë¶€ í™”ë©´ Controllerì—ì„œ:
model.addAttribute("pageTitle", "ì ‘ìˆ˜ ëª©ë¡");  // í™”ë©´ ì´ë¦„
model.addAttribute("currentMenu", "reception-list");  // í˜„ì¬ ë©”ë‰´ í‚¤

// ë‚˜ë¨¸ì§€(loginName, isStaff, isDoctor, isNurse, isAdmin, showChatbot)ëŠ”
// LayoutModelInterceptorê°€ ì„¸ì…˜ì—ì„œ ìë™ ì£¼ì… â€” Controllerì—ì„œ ê±´ë“œë¦¬ì§€ ë§ ê²ƒ
```

---

### 7.3 ì±…ì„ê°œë°œì â†’ ê°œë°œì A (LlmService DTO â€” W3 ë§ ê³µìœ )

```java
// â—† ì±…ì„ê°œë°œìê°€ W3 ë§ í™•ì • í›„ íŒ€ ê³µìœ 

// POST /llm/symptom/analyze ìš”ì²­
class SymptomRequest {
    String symptomText; // 1~1000ì
}

// ì‘ë‹µ
class SymptomResponse {
    String recommendedDept;    // "ì™¸ê³¼"
    String recommendedDoctor;  // "ê¹€ì² ìˆ˜"
    String recommendedTime;    // "ì˜¤ì „ (09:00~12:00)"
    String advice;             // AI ì†Œê²¬
    String disclaimer;         // ë©´ì±… ê³ ì§€ (í•­ìƒ í¬í•¨, í™”ë©´ì— í•„ìˆ˜ í‘œì‹œ)
    String errorCode;          // "LLM_SERVICE_UNAVAILABLE" | null
}
```

**ì•½ì†:** ì±…ì„ê°œë°œìëŠ” W3 ê¸ˆìš”ì¼ ë¯¸íŒ…ì—ì„œ DTO í™•ì • ê³µìœ .
ê°œë°œì AëŠ” W4ë¶€í„° ì´ DTO ê¸°ì¤€ìœ¼ë¡œ UI ì—°ê²°.

---

### 7.4 ì±…ì„ê°œë°œì â†’ ê°œë°œì B (ChatbotService DTO â€” W3 ë§ ê³µìœ )

```java
// POST /llm/chatbot/ask ìš”ì²­
class ChatbotRequest {
    String question;   // ì§ˆë¬¸ í…ìŠ¤íŠ¸
}

// ì‘ë‹µ
class ChatbotResponse {
    String answer;     // ì±—ë´‡ ë‹µë³€
    String errorCode;  // nullì´ë©´ ì •ìƒ
}
```

---

### 7.5 ê°œë°œì B â†’ ê°œë°œì C (ê³µí†µ Reservation ì½ê¸°)

ê´€ë¦¬ì í™”ë©´(ê°œë°œì C)ì´ Reservation ëª©ë¡ì„ ì½ì„ ë•Œ:

```java
// âœ… ê°œë°œì CëŠ” ReservationRepositoryë¥¼ ì§ì ‘ ì£¼ì…ë°›ì•„ ì½ê¸° ì „ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©
// âŒ ReservationRepository.save() ì§ì ‘ í˜¸ì¶œ ê¸ˆì§€
// âœ… ì·¨ì†Œ ì²˜ë¦¬ë§Œ: AdminReservationService.cancelReservation()ì—ì„œë§Œ ìƒíƒœ ë³€ê²½
```

---

## 8. Git ë¸Œëœì¹˜ ì†Œìœ ì ë§µí•‘

```
main              â—† ì±…ì„ê°œë°œìë§Œ ë¨¸ì§€ (PR í•„ìˆ˜ ë¦¬ë·°)
develop           â—†â—† ë§¤ì£¼ ê¸ˆìš”ì¼ í†µí•© ë¨¸ì§€

feature/auth                   â—† ì±…ì„ê°œë°œì
feature/common-layout          â—† ì±…ì„ê°œë°œì
feature/slot-service           â—† ì±…ì„ê°œë°œì
feature/entities               â—† ì±…ì„ê°œë°œì

feature/reservation            â–² ê°œë°œì A
feature/home                   â–² ê°œë°œì A
feature/llm-symptom-ui         â–² ê°œë°œì A (W4, LlmService ì™„ì„± í›„)

feature/reception              â— ê°œë°œì B
feature/walkin                 â— ê°œë°œì B
feature/phone-reservation      â— ê°œë°œì B
feature/staff-dashboard        â— ê°œë°œì B
feature/doctor-treatment       â— ê°œë°œì B
feature/nurse                  â— ê°œë°œì B
feature/llm-chatbot-ui         â— ê°œë°œì B (W4)

feature/admin-dashboard        â–  ê°œë°œì C
feature/admin-reservation      â–  ê°œë°œì C
feature/admin-staff            â–  ê°œë°œì C
feature/admin-department       â–  ê°œë°œì C
feature/admin-item             â–  ê°œë°œì C
feature/admin-rule             â–  ê°œë°œì C

feature/llm-service            â—† ì±…ì„ê°œë°œì (W3 í›„ë°˜ ì°©ìˆ˜)
feature/llm-chatbot-backend    â—† ì±…ì„ê°œë°œì
```

### ë¸Œëœì¹˜ ê·œì¹™

```
1. ë¸Œëœì¹˜ëŠ” ì†Œìœ ìë§Œ push ê°€ëŠ¥
2. PRì€ develop ê¸°ì¤€, ì±…ì„ê°œë°œì í•„ìˆ˜ ë¦¬ë·° í›„ ë¨¸ì§€
3. ë³¸ì¸ ë¸Œëœì¹˜ê°€ ì•„ë‹Œ íŒŒì¼ì„ ìˆ˜ì •í•œ PRì€ ìë™ ë°˜ë ¤
4. hotfix/*ëŠ” ì±…ì„ê°œë°œìë§Œ ìƒì„±
5. ë§¤ì£¼ ê¸ˆìš”ì¼ develop â†’ ê°ì ë¸Œëœì¹˜ rebase
```

---

## 9. ì¶©ëŒ ë°©ì§€ ê·œì¹™ (Anti-Collision Rules)

### 9.1 íŒŒì¼ ì†Œìœ ê¶Œ ì›ì¹™

```
ê·œì¹™ 1. "ê¸°ëŠ¥ ë‹¨ìœ„ ìˆ˜ì§ ì†Œìœ "
  í•œ ê¸°ëŠ¥ì˜ Controller + Service + Repository + Mustache í…œí”Œë¦¿ì„
  ë™ì¼í•œ ë‹´ë‹¹ìê°€ ì†Œìœ í•œë‹¤.
  â†’ ë‹¤ë¥¸ ë‹´ë‹¹ìì˜ Serviceë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ë ¤ë©´
    ë°˜ë“œì‹œ ì±…ì„ê°œë°œì ìŠ¹ì¸ í›„ í•´ë‹¹ ë‹´ë‹¹ìê°€ ì‘ì—….

ê·œì¹™ 2. "ê³µìœ  íŒŒì¼ í„°ì¹˜ ê¸ˆì§€"
  Entity í´ë˜ìŠ¤, SecurityConfig, LayoutModelInterceptor, SlotServiceëŠ”
  ì±…ì„ê°œë°œìë§Œ ìˆ˜ì •. ê°œë°œìëŠ” ìˆ˜ì • í•„ìš” ì‹œ GitHub Issue ë“±ë¡.

ê·œì¹™ 3. "Repository ì½ê¸°Â·ì“°ê¸° ê²½ê³„"
  ìì‹ ì˜ ê¸°ëŠ¥ ë‹´ë‹¹ì´ ì•„ë‹Œ Repositoryë¥¼ ì§ì ‘ í˜¸ì¶œí•  ë•ŒëŠ” ì½ê¸°(findById ë“±)ë§Œ í—ˆìš©.
  ìƒíƒœ ë³€ê²½(save, delete)ì€ í•´ë‹¹ Serviceë¥¼ í†µí•´ì„œë§Œ.

ê·œì¹™ 4. "ìƒíƒœ ì „ì´ ë‹¨ë°©í–¥ ì†Œìœ "
  RESERVED â†’ RECEIVED:  ReceptionService (ê°œë°œì B)ë§Œ ì²˜ë¦¬
  RECEIVED â†’ COMPLETED:  TreatmentService (ê°œë°œì B)ë§Œ ì²˜ë¦¬
  RESERVED â†’ CANCELLED:  AdminReservationService (ê°œë°œì C)ë§Œ ì²˜ë¦¬
  RECEIVED ì§í–‰:          WalkinService (ê°œë°œì B)ë§Œ ì²˜ë¦¬
  â†’ ê°™ì€ ìƒíƒœ ì „ì´ë¥¼ ë‘ ê³³ì—ì„œ í•˜ë©´ ë²„ê·¸ ì›ì¸

ê·œì¹™ 5. "Mustache í…œí”Œë¦¿ ë””ë ‰í„°ë¦¬ ì†Œìœ "
  templates/home/**       â†’ ê°œë°œì A
  templates/reservation/** â†’ ê°œë°œì A
  templates/staff/**      â†’ ê°œë°œì B
  templates/doctor/**     â†’ ê°œë°œì B
  templates/nurse/**      â†’ ê°œë°œì B
  templates/admin/**      â†’ ê°œë°œì C
  templates/common/**     â†’ ì±…ì„ê°œë°œì (ë ˆì´ì•„ì›ƒÂ·í—¤ë”Â·ì‚¬ì´ë“œë°”Â·í‘¸í„°Â·ì±—ë´‡ íŒŒì…œ)
  templates/layouts/**    â†’ ì±…ì„ê°œë°œì
```

### 9.2 ì¶©ëŒ ë°œìƒ ì‹œ í•´ê²° ì ˆì°¨

```
1ë‹¨ê³„: ë°œê²¬ ì¦‰ì‹œ ì‘ì—… ì¤‘ë‹¨
2ë‹¨ê³„: GitHub Issueì— "ì¶©ëŒ: [íŒŒì¼ëª…] [ë‹´ë‹¹ì1] vs [ë‹´ë‹¹ì2]" ë“±ë¡
3ë‹¨ê³„: ì±…ì„ê°œë°œìê°€ ì†Œìœ ê¶Œ íŒë‹¨ ë° í•´ê²° ë°©í–¥ ê²°ì • (30ë¶„ ë‚´)
4ë‹¨ê³„: ì†Œìœ ìê°€ ìˆ˜ì •, ë¹„ì†Œìœ ìëŠ” rebaseë¡œ ìµœì‹ í™”
5ë‹¨ê³„: PR ì¬ìš”ì²­ ë° ì±…ì„ê°œë°œì ìµœì¢… ë¦¬ë·°
```

---

## 10. ì£¼ì°¨ë³„ ì†Œìœ ê¶Œ ì´ê´€ ê³„íš

```
W1 â€” ê¸°ë°˜ ì™„ì„± (ì±…ì„ê°œë°œì ì§‘ì¤‘)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì±…ì„ê°œë°œì    â†’ Entity, SecurityConfig, LayoutModelInterceptor, SlotService ì™„ì„±
           ê°œë°œìë“¤ì´ ì˜ì¡´í•  ëª¨ë“  ê³µìœ  ë ˆì´ì–´ë¥¼ W1 ë§ê¹Œì§€ developì— ë¨¸ì§€

ê°œë°œìA â†’ í™ˆí™”ë©´(00) UI êµ¬ì„± + ë ˆì´ì•„ì›ƒ í™•ì¸
ê°œë°œìB â†’ STAFF ë¡œê·¸ì¸ í™”ë©´(05) + ëŒ€ì‹œë³´ë“œ ê³¨ê²©(06)
ê°œë°œìC â†’ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ê³¨ê²©(17) + ê¸°ë³¸ ë ˆì´ì•„ì›ƒ í™•ì¸

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
W2 â€” í•µì‹¬ ê¸°ëŠ¥ ë³‘ë ¬ ê°œë°œ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì±…ì„ê°œë°œì    â†’ ì˜ˆì•½ ì¤‘ë³µ ë°©ì§€ íŠ¸ëœì­ì…˜ ê²€ì¦, ì ‘ìˆ˜ êµ¬ì¡° ì„¤ê³„ ì§€ì›, ì½”ë“œ ë¦¬ë·°

ê°œë°œìA â†’ ì˜ˆì•½ í¼(01~04) ì „ì²´ ì™„ì„±
            ì˜ì¡´: SlotService (W1ì— ì™„ì„±ë¨) â† pull í›„ ì‚¬ìš©
ê°œë°œìB â†’ ì ‘ìˆ˜ ëª©ë¡(07)Â·ì ‘ìˆ˜ ì²˜ë¦¬(08)Â·ì „í™” ì˜ˆì•½(09)Â·ë°©ë¬¸ ì ‘ìˆ˜(10) ì™„ì„±
            ì˜ì¡´: SlotService â† ë°©ë¬¸ ì ‘ìˆ˜ì—ì„œ ì‚¬ìš©
ê°œë°œìC â†’ ì§„ë£Œê³¼(25Â·26)Â·ì§ì›(22~24)Â·ì „ì²´ ì˜ˆì•½ ëª©ë¡(18) CRUD ì™„ì„±

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
W3 â€” ê³ ê¸‰ ê¸°ëŠ¥ + LlmService ì„ í–‰ ì°©ìˆ˜
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì±…ì„ê°œë°œì    â†’ W3 ìˆ˜ìš”ì¼ê¹Œì§€ LlmService ê¸°ë³¸ ë™ì‘ í™•ì¸
           W3 ê¸ˆìš”ì¼: LlmService + DTO íŒ€ ì „ì²´ ê³µìœ  ë¯¸íŒ…

ê°œë°œìA â†’ ì¦ìƒ ì…ë ¥ í™”ë©´(02) ê³¨ê²© ì™„ì„± (LlmService ì—†ì´ ë”ë¯¸ UIë¡œ)
ê°œë°œìB â†’ ì§„ë£Œ ê¸°ë¡(13)Â·DOCTOR ëŒ€ì‹œë³´ë“œ(11)Â·NURSE í˜„í™©(14Â·15Â·16) ì™„ì„±
ê°œë°œìC â†’ ì „ì²´ ì ‘ìˆ˜ ëª©ë¡(19)Â·ë¬¼í’ˆ CRUD(27Â·28Â·29)Â·ê·œì¹™ CRUD ê³¨ê²©(30) ì™„ì„±

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
W4 â€” LLM ì—°ê²° + ë§ˆë¬´ë¦¬ (ë³‘ë ¬ ìµœëŒ€ í™œìš©)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì±…ì„ê°œë°œì    â†’ LlmService ì™„ì„± â†’ develop ë¨¸ì§€
           í´ë°± ì²˜ë¦¬, í†µí•© í…ŒìŠ¤íŠ¸, ë³´ì•ˆ ì ê²€, ë°°í¬

ê°œë°œìA â†’ LlmService ì™„ì„± ì§í›„ ì¦ìƒ UI ì—°ê²° (fetch + ê²°ê³¼ ë Œë”ë§)
           ì˜ì¡´: SymptomRequest/Response DTO (W3 ê¸ˆìš”ì¼ì— í™•ì •ë¨)

ê°œë°œìB â†’ ì±—ë´‡ ì˜¤ë²„ë ˆì´ UI ì™„ì„±
           ì˜ì¡´: ChatbotRequest/Response DTO (W3 ê¸ˆìš”ì¼ì— í™•ì •ë¨)

ê°œë°œìC â†’ ê·œì¹™ CRUD(30Â·31Â·32) ì™„ì„±, ì „ì²´ ê´€ë¦¬ì UI ì ê²€Â·ì •ë¦¬

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
W4 ë³‘ë ¬ ì‘ì—… ì˜ì¡´ì„± ì²´ì¸ (í•µì‹¬)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ì±…ì„ê°œë°œì: LlmService ì™„ì„± (W4 ì´ˆ)
  â”œâ”€â”€â†’ ê°œë°œì A: ì¦ìƒ UI ì—°ê²° ì‹œì‘ (W4 ì´ˆ~ì¤‘)
  â””â”€â”€â†’ ê°œë°œì B: ì±—ë´‡ UI ì—°ê²° ì‹œì‘ (W4 ì´ˆ~ì¤‘)

ì±…ì„ê°œë°œì: í†µí•© í…ŒìŠ¤íŠ¸ (W4 ì¤‘í›„ë°˜)
  â””â”€â”€ ê°œë°œì C: ê´€ë¦¬ì UI ì •ë¦¬ ë³‘í–‰ (ë™ì¼ ê¸°ê°„)

ë°°í¬: W4 ê¸ˆìš”ì¼ (ì „ì›)
```

---

## ë¶€ë¡. ì†Œìœ ê¶Œ ìš”ì•½ ì²´í¬ì¹´ë“œ

> ì‘ì—… ì „ ë°˜ë“œì‹œ í™•ì¸. ë‚´ íŒŒì¼ì´ ì•„ë‹Œ íŒŒì¼ì„ ìˆ˜ì •í•˜ë©´ PR ë°˜ë ¤.
> 

| íŒŒì¼ / ë””ë ‰í„°ë¦¬ | ì†Œìœ ì | íƒ€ ë‹´ë‹¹ì ì ‘ê·¼ |
| --- | --- | --- |
| `config/SecurityConfig.java` | â—† ì±…ì„ê°œë°œì | ì½ê¸° ì „ìš© |
| `config/ClaudeApiConfig.java` | â—† ì±…ì„ê°œë°œì | ì ‘ê·¼ ê¸ˆì§€ |
| `common/interceptor/LayoutModelInterceptor.java` | â—† ì±…ì„ê°œë°œì | ì ‘ê·¼ ê¸ˆì§€ |
| `common/service/SlotService.java` | â—† ì±…ì„ê°œë°œì | ì¸í„°í˜ì´ìŠ¤ í˜¸ì¶œë§Œ í—ˆìš© |
| `domain/*.java` (Entity ì „ì²´) | â—† ì±…ì„ê°œë°œì | ì ‘ê·¼ ê¸ˆì§€ (GitHub Issueë¡œ ìˆ˜ì • ìš”ì²­) |
| `reservation/**` | â–² ê°œë°œì A | ì½ê¸° ì „ìš© (ì¡°íšŒë§Œ) |
| `staff/**` | â— ê°œë°œì B | â€” |
| `doctor/**` | â— ê°œë°œì B | â€” |
| `nurse/**` | â— ê°œë°œì B | â€” |
| `admin/**` | â–  ê°œë°œì C | â€” |
| `llm/LlmService.java` | â—† ì±…ì„ê°œë°œì | ì¸í„°í˜ì´ìŠ¤ í˜¸ì¶œë§Œ í—ˆìš© |
| `llm/ChatbotController.java` | â— ê°œë°œì B | UI ì—°ê²° ë¶€ë¶„ë§Œ |
| `templates/common/**` | â—† ì±…ì„ê°œë°œì | ì½ê¸° ì „ìš© |
| `templates/layouts/**` | â—† ì±…ì„ê°œë°œì | ì ‘ê·¼ ê¸ˆì§€ |
| `templates/home/**`, `templates/reservation/**` | â–² ê°œë°œì A | â€” |
| `templates/staff/**`, `templates/doctor/**`, `templates/nurse/**` | â— ê°œë°œì B | â€” |
| `templates/admin/**` | â–  ê°œë°œì C | â€” |
| `application.properties` | â—† ì±…ì„ê°œë°œì | ì ‘ê·¼ ê¸ˆì§€ (API Key í¬í•¨) |
| `.gitignore` | â—† ì±…ì„ê°œë°œì | ì ‘ê·¼ ê¸ˆì§€ |

---

*ë³¸ ì•„í‚¤í…ì²˜ ë¬¸ì„œëŠ” í”„ë¡œì íŠ¸ ê³„íšì„œ v4.2, í™”ë©´ ì •ì˜ì„œ v1.4, API ëª…ì„¸ì„œ v2.1, ERD v2.0ê³¼ ì—°ë™í•˜ì—¬ ì‘ì„±ë¨.ì†Œìœ ê¶Œ ë³€ê²½ì´ í•„ìš”í•œ ê²½ìš° ì±…ì„ê°œë°œìì™€ í˜‘ì˜ í›„ ë³¸ ë¬¸ì„œë¥¼ ì—…ë°ì´íŠ¸.*